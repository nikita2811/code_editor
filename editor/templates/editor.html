<html>

<head>
    <meta charset="UTF-8" />
    <title>Code Editor (CodeMirror)</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@codemirror/theme-one-dark@6.2.0/theme-one-dark.min.css">
    <style>
        body {
            margin: 0;
            display: flex;
            flex-direction: column;
            height: 100vh;
            font-family: sans-serif;
        }

        #editor {
            height: 50vh;
        }

        iframe {
            flex: 1;
            border: none;
            width: 100%;
        }
    </style>
</head>

<body>
    <div id="editor"></div>
    <iframe id="preview"></iframe>
</body>

</html>

<!-- CodeMirror Modules -->
<script type="module">
    import { EditorView, basicSetup } from "https://cdn.jsdelivr.net/npm/@codemirror/basic-setup@6.4.0/+esm";
    import { html } from "https://cdn.jsdelivr.net/npm/@codemirror/lang-html@6.2.0/+esm";
    import { oneDark } from "https://cdn.jsdelivr.net/npm/@codemirror/theme-one-dark@6.2.0/+esm";



    const preview = document.getElementById("preview");

    // Update preview on changes
    editor.dispatch({
        effects: EditorView.updateListener.of(update => {
            if (update.docChanged) {
                preview.srcdoc = editor.state.doc.toString();
            }
        })
    });

    // Initialize preview
    preview.srcdoc = editor.state.doc.toString();
</script>